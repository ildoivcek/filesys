<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel</title>
<style>
body { margin:0; padding:0; font-family: Arial; display: flex; height: 100vh; }
#sidebar { width: 250px; background: #2f2f2f; color: white; padding: 10px; box-sizing: border-box; overflow-y: auto; }
#sidebar h2 { margin-top: 0; font-size: 18px; }
#fileList { list-style: none; padding: 0; }
#fileList li { padding: 5px; cursor: pointer; border-bottom: 1px solid #444; }
#fileList li:hover { background: #444; }
#controls { margin-top: 10px; }
button { padding: 5px 10px; margin: 2px; cursor: pointer; }
#main { flex: 1; padding: 20px; box-sizing: border-box; background: #f0f0f0; overflow-y: auto; }
#camBox img { width: 90%; border: 2px solid black; border-radius: 10px; }
#loginBox, #camBox { text-align: center; margin-top: 20px; }
input { padding: 8px; margin: 5px; width: 200px; font-size: 14px; }
</style>
</head>
<body>

<div id="sidebar">
  <h2>Files</h2>
  <ul id="fileList">
    <li onclick="window.location='/smthng.html'"> Open file system</li>
  </ul>
</div>

<div id="main">

  <div id="loginBox">
    <h2>Log in</h2>
    <input id="user" type="text" placeholder="Login"><br>
    <input id="pass" type="password" placeholder="Password"><br>
    <button onclick="login()">Login</button>
  </div>

  <div id="camBox" style="display:none;">
    <h1>Cameras</h1>
    <div id="clock"></div>
    <br>
    <button onclick="prevCam()">⬅</button>
    <button onclick="nextCam()">➡</button>
    <br><br>
    <img id="camStream" src="" alt="Camera Stream">
  </div>

</div>

<script>
let cams = [
  "http://192.168.4.1:81/stream",
  "http://192.168.4.2:81/stream",
  "http://192.168.4.3:81/stream"
];

let camId = 0;

function updateCam() {
  document.getElementById("camStream").src =
      cams[camId] + "?t=" + new Date().getTime();
}

function nextCam() {
  camId = (camId + 1) % cams.length;
  updateCam();
}

function prevCam() {
  camId = (camId - 1 + cams.length) % cams.length;
  updateCam();
}

function startClock() {
  setInterval(() => {
    let now = new Date();
    document.getElementById("clock").innerText =
        now.toLocaleTimeString("uk-UA");
  }, 1000);
}

function login() {
  const u = document.getElementById("user").value;
  const p = document.getElementById("pass").value;
  if (u === "admin" && p === "1234") {
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("camBox").style.display = "block";
    startClock();
    updateCam();
  } else {
    alert("Incorrect login or password");
  }
}
</script>

</body>

</html>
